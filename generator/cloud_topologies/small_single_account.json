{
  "topology_id": "topo-single-small-001",
  "name": "Small Single Account",
  "description": "Simple single-account topology for basic scenarios",
  "accounts": [
    {
      "account_id": "123456789012",
      "account_name": "production-main",
      "region": "us-east-1",
      "account_type": "production"
    }
  ],
  "networks": [
    {
      "vpc_id": "vpc-0a1b2c3d4e5f6g7h8",
      "cidr_block": "10.0.0.0/16",
      "account_id": "123456789012",
      "subnets": [
        {
          "subnet_id": "subnet-pub1a",
          "cidr_block": "10.0.1.0/24",
          "availability_zone": "us-east-1a",
          "public": true
        },
        {
          "subnet_id": "subnet-priv1a",
          "cidr_block": "10.0.10.0/24",
          "availability_zone": "us-east-1a",
          "public": false
        },
        {
          "subnet_id": "subnet-priv1b",
          "cidr_block": "10.0.11.0/24",
          "availability_zone": "us-east-1b",
          "public": false
        }
      ]
    }
  ],
  "identities": [
    {
      "principal_arn": "arn:aws:iam::123456789012:user/admin",
      "principal_type": "user",
      "permissions": ["iam:*", "ec2:*", "s3:*", "lambda:*"],
      "tags": {"role": "administrator", "department": "engineering"}
    },
    {
      "principal_arn": "arn:aws:iam::123456789012:user/service-account-readonly",
      "principal_type": "user",
      "permissions": ["iam:Get*", "iam:List*", "ec2:Describe*", "s3:Get*", "s3:List*"],
      "tags": {"role": "service-account", "scope": "readonly"}
    },
    {
      "principal_arn": "arn:aws:iam::123456789012:role/LambdaExecutionRole",
      "principal_type": "role",
      "permissions": ["logs:CreateLogGroup", "logs:CreateLogStream", "logs:PutLogEvents"],
      "tags": {"service": "lambda"}
    },
    {
      "principal_arn": "arn:aws:iam::123456789012:role/EC2InstanceRole",
      "principal_type": "role",
      "permissions": ["s3:GetObject", "s3:PutObject", "secretsmanager:GetSecretValue"],
      "tags": {"service": "ec2"}
    },
    {
      "principal_arn": "arn:aws:iam::123456789012:role/HighPrivilegeRole",
      "principal_type": "role",
      "permissions": ["s3:*", "dynamodb:*", "secretsmanager:*"],
      "tags": {"privilege": "high", "critical": "true"}
    }
  ],
  "resources": [
    {
      "resource_id": "arn:aws:s3:::prod-data-bucket",
      "resource_type": "s3_bucket",
      "account_id": "123456789012",
      "metadata": {
        "encryption": true,
        "versioning": true,
        "classification": "sensitive"
      }
    },
    {
      "resource_id": "arn:aws:s3:::public-assets-bucket",
      "resource_type": "s3_bucket",
      "account_id": "123456789012",
      "metadata": {
        "encryption": false,
        "public_access": true,
        "classification": "public"
      }
    },
    {
      "resource_id": "i-0a1b2c3d4e5f6g7h8",
      "resource_type": "ec2_instance",
      "account_id": "123456789012",
      "metadata": {
        "instance_type": "t3.medium",
        "subnet_id": "subnet-priv1a",
        "role": "arn:aws:iam::123456789012:role/EC2InstanceRole"
      }
    },
    {
      "resource_id": "arn:aws:lambda:us-east-1:123456789012:function:data-processor",
      "resource_type": "lambda_function",
      "account_id": "123456789012",
      "metadata": {
        "runtime": "python3.11",
        "role": "arn:aws:iam::123456789012:role/LambdaExecutionRole"
      }
    }
  ]
}
